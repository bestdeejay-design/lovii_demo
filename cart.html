<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Ваша корзина покупок на платформе Витрина. Просмотрите товары, оформите заказ и выберите удобный способ доставки.">
    <meta name="keywords" content="корзина, заказ, покупки, оформление заказа, доставка, товары">
    <meta name="author" content="Витрина - платформа для малого бизнеса">
    <title>Корзина покупок — оформите заказ на Витрине</title>
    <link rel="stylesheet" href="css/main.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header will be loaded via JavaScript -->
    <div id="header-container"></div>

    <!-- Breadcrumbs -->
    <nav class="breadcrumbs">
        <div class="container">
            <div class="breadcrumb-nav">
                <ol>
                    <li><a href="index.html">Главная</a></li>
                    <li class="current">Корзина</li>
                </ol>
            </div>
        </div>
    </nav>

    <!-- Cart Section -->
    <section id="cart" class="cart-section">
        <div class="container">
            <div class="page-header">
                <h1>Корзина покупок</h1>
            </div>

            <div class="cart-layout">
                <main class="cart-main">
                    <div class="cart-items">
                        <table class="cart-table">
                            <thead>
                                <tr>
                                    <th>Товар</th>
                                    <th>Цена</th>
                                    <th>Количество</th>
                                    <th>Итого</th>
                                    <th>Действие</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="cart-product">
                                        <div class="product-image">
                                            <img src="images/product_image.jpg" alt="Молоко деревенское свежее">
                                        </div>
                                        <div class="product-info">
                                            <h3>Молоко деревенское свежее</h3>
                                            <p>1 л, натуральное молоко</p>
                                        </div>
                                    </td>
                                    <td class="cart-price">149 ₽</td>
                                    <td class="cart-quantity">
                                        <div class="quantity-control">
                                            <button class="quantity-btn minus">-</button>
                                            <input type="number" value="2" min="1" class="quantity-input">
                                            <button class="quantity-btn plus">+</button>
                                        </div>
                                    </td>
                                    <td class="cart-total">298 ₽</td>
                                    <td class="cart-actions">
                                        <button class="remove-btn"><i class="fas fa-trash"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="cart-product">
                                        <div class="product-image">
                                            <img src="images/product_image.jpg" alt="Сыр домашний">
                                        </div>
                                        <div class="product-info">
                                            <h3>Сыр домашний из коровьего молока</h3>
                                            <p>300 г, натуральный сыр</p>
                                        </div>
                                    </td>
                                    <td class="cart-price">499 ₽</td>
                                    <td class="cart-quantity">
                                        <div class="quantity-control">
                                            <button class="quantity-btn minus">-</button>
                                            <input type="number" value="1" min="1" class="quantity-input">
                                            <button class="quantity-btn plus">+</button>
                                        </div>
                                    </td>
                                    <td class="cart-total">499 ₽</td>
                                    <td class="cart-actions">
                                        <button class="remove-btn"><i class="fas fa-trash"></i></button>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="cart-product">
                                        <div class="product-image">
                                            <img src="images/product_image.jpg" alt="Яйца куриные">
                                        </div>
                                        <div class="product-info">
                                            <h3>Яйца куриные высшей категории</h3>
                                            <p>10 шт, свежие яйца</p>
                                        </div>
                                    </td>
                                    <td class="cart-price">99 ₽</td>
                                    <td class="cart-quantity">
                                        <div class="quantity-control">
                                            <button class="quantity-btn minus">-</button>
                                            <input type="number" value="3" min="1" class="quantity-input">
                                            <button class="quantity-btn plus">+</button>
                                        </div>
                                    </td>
                                    <td class="cart-total">297 ₽</td>
                                    <td class="cart-actions">
                                        <button class="remove-btn"><i class="fas fa-trash"></i></button>
                                    </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>

                    <div class="cart-actions-bottom">
                        <button class="btn btn-outline">Продолжить покупки</button>
                        <button class="btn btn-primary">Перейти к оформлению</button>
                    </div>
                </main>

                <aside class="cart-summary">
                    <div class="summary-card">
                        <h3>Итог заказа</h3>
                        
                        <div class="summary-item">
                            <span>Товары</span>
                            <span>1 094 ₽</span>
                        </div>
                        
                        <div class="summary-item">
                            <span>Доставка</span>
                            <span>150 ₽</span>
                        </div>
                        
                        <div class="summary-item total">
                            <span>Итого</span>
                            <span>1 244 ₽</span>
                        </div>

                        <div class="promo-code">
                            <div class="input-group">
                                <input type="text" placeholder="Промокод">
                                <button class="btn btn-outline">Применить</button>
                            </div>
                        </div>
                    </div>

                    <div class="delivery-options">
                        <h3>Варианты доставки</h3>
                        <div class="delivery-option">
                            <input type="radio" id="delivery-courier" name="delivery" checked>
                            <label for="delivery-courier">
                                <div class="option-header">
                                    <i class="fas fa-shipping-fast"></i>
                                    <span>Курьером</span>
                                </div>
                                <div class="option-details">
                                    <p>Завтра, 12:00-15:00</p>
                                    <p>150 ₽</p>
                                </div>
                            </label>
                        </div>
                        <div class="delivery-option">
                            <input type="radio" id="delivery-pickup" name="delivery">
                            <label for="delivery-pickup">
                                <div class="option-header">
                                    <i class="fas fa-store"></i>
                                    <span>Самовывоз</span>
                                </div>
                                <div class="option-details">
                                    <p>Бесплатно</p>
                                    <p>Завтра</p>
                                </div>
                            </label>
                        </div>
                    </div>
                </aside>
            </div>
        </div>
    </section>

    <!-- Footer will be loaded via JavaScript -->
    <div id="footer-container"></div>

    <!-- Mobile Navigation -->
    <div id="mobile-nav-container"></div>

    <script src="js/main.js"></script>
    <script>
        // Load header, footer and mobile navigation templates
        document.addEventListener('DOMContentLoaded', function() {
            loadTemplate('templates/header.html', 'header-container');
            loadTemplate('templates/footer.html', 'footer-container');
            loadTemplate('templates/mobile-nav.html', 'mobile-nav-container');
        });

        function loadTemplate(url, elementId) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    document.getElementById(elementId).innerHTML = data;
                    // Re-initialize any JavaScript functionality after template is loaded
                    if (elementId === 'mobile-nav-container') {
                        initializeNewMobileNavigation();
                    } else if (elementId === 'header-container') {
                        initializeMobileMenu();
                    }
                    
                    // After all templates are loaded, try initializing components again
                    setTimeout(initializeAfterTemplatesLoad, 50);
                })
                .catch(error => console.error('Error loading template:', error));
        }

        // Quantity control functionality
        document.addEventListener('DOMContentLoaded', function() {
            const quantityInputs = document.querySelectorAll('.quantity-input');
            
            quantityInputs.forEach(input => {
                const minusBtn = input.previousElementSibling;
                const plusBtn = input.nextElementSibling;
                
                minusBtn.addEventListener('click', function() {
                    let value = parseInt(input.value);
                    if (value > 1) {
                        input.value = value - 1;
                        updateCartTotal();
                    }
                });
                
                plusBtn.addEventListener('click', function() {
                    let value = parseInt(input.value);
                    input.value = value + 1;
                    updateCartTotal();
                });
                
                input.addEventListener('change', function() {
                    let value = parseInt(input.value);
                    if (value < 1) input.value = 1;
                    updateCartTotal();
                });
            });
            
            // Remove button functionality
            const removeBtns = document.querySelectorAll('.remove-btn');
            removeBtns.forEach(btn => {
                btn.addEventListener('click', function() {
                    const row = this.closest('tr');
                    row.remove();
                    updateCartTotal();
                });
            });
            
            // Update cart total function
            function updateCartTotal() {
                // In a real implementation, this would recalculate totals
                console.log('Cart updated');
            }
        });
    </script>
</body>
</html>