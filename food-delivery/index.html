<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Еда и доставка — Витрина</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <!-- SVG фон -->
  <svg class="svg-bg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
    <path d="M40,-40C55,-30,70,-15,72,0C74,15,63,30,50,40C37,50,20,55,5,52C-10,49,-25,43,-35,30C-45,17,-50,0,-45,-15C-40,-30,-25,-40,-10,-45C5,-50,20,-50,35,-45C50,-40,65,-30,55,-20C45,-10,30,-5,15,-5C0,-5,-15,-10,-25,-20C-35,-30,-40,-35,-30,-45C-20,-55,-10,-60,5,-60C20,-60,35,-55,40,-45Z" transform="translate(100,100)"/>
  </svg>

  <!-- Off-canvas elements -->
  <div class="overlay" id="overlay"></div>
  <div class="offcanvas-menu" id="offcanvasMenu">
    <button class="close-menu" id="closeMenu">×</button>
    <nav class="offcanvas-nav">
      <ul>
        <li><a href="/">Главная</a></li>
        <li><a href="/catalog/">Каталог товаров</a></li>
        <li><a href="/food-delivery/">Еда и доставка</a></li>
        <li><a href="/about.html">О нас</a></li>
        <li><a href="/business.html">Для бизнеса</a></li>
        <li><a href="/buyers.html">Для покупателей</a></li>
        <li><a href="/partners.html">Для партнёров</a></li>
        <li><a href="/contacts.html">Контакты</a></li>
      </ul>
    </nav>
    <div class="offcanvas-theme">
      <div class="theme-toggle" id="mobileThemeToggle">
        <div class="toggle-knob"></div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header>
    <a href="/" class="logo"><span>Витрина</span></a>
    <nav class="desktop-nav">
      <ul>
        <li><a href="/">Главная</a></li>
        <li><a href="/catalog/">Каталог товаров</a></li>
        <li><a href="/food-delivery/">Еда и доставка</a></li>
        <li><a href="/about.html">О нас</a></li>
        <li><a href="/business.html">Для бизнеса</a></li>
        <li><a href="/buyers.html">Для покупателей</a></li>
        <li><a href="/partners.html">Для партнёров</a></li>
        <li><a href="/contacts.html">Контакты</a></li>
      </ul>
    </nav>
    <div class="theme-toggle" id="themeToggle">
      <div class="toggle-knob"></div>
    </div>
  </header>

  <!-- FAB Menu Button -->
  <button class="menu-fab" id="menuFab">≡</button>

  <main class="container">
    <h1 class="page-title">Еда и доставка</h1>
    
    <div class="location-info" style="text-align: center; margin-bottom: 1.5rem; color: var(--text-secondary);">
      <p>Выберите город и тип заведения для поиска</p>
      <div style="display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; margin-top: 0.5rem;">
        <a href="/login-customer.html" class="btn-secondary">Войти как покупатель</a>
        <a href="/register-customer.html" class="btn-secondary">Регистрация покупателя</a>
      </div>
    </div>
    
    <div class="filters-container">
      <div class="filters">
        <select id="city">
          <option value="">Все города</option>
          <option value="spb">Санкт-Петербург</option>
          <option value="msk">Москва</option>
          <option value="ekb">Екатеринбург</option>
          <option value="nov">Новосибирск</option>
          <option value="kaz">Казань</option>
          <option value="nnv">Нижний Новгород</option>
          <option value="vor">Воронеж</option>
          <option value="sam">Самара</option>
        </select>
        
        <select id="establishment-type">
          <option value="">Все типы</option>
          <option value="restaurant">Рестораны</option>
          <option value="cafe">Кафе</option>
          <option value="canteen">Столовые</option>
          <option value="streetfood">Стритфуд</option>
          <option value="foodcourt">Фудкорты</option>
          <option value="homekitchen">Домашняя кухня</option>
          <option value="fastfood">Фастфуд</option>
          <option value="delivery">Доставка</option>
        </select>
        
        <select id="delivery-available">
          <option value="">Все</option>
          <option value="yes">С доставкой</option>
          <option value="no">Без доставки</option>
        </select>
        
        <button id="apply-filters" class="cta-button">Применить</button>
      </div>
      
      <div class="category-pills">
        <button class="pill-btn active" data-type="">Все</button>
        <button class="pill-btn" data-type="restaurant">Рестораны</button>
        <button class="pill-btn" data-type="cafe">Кафе</button>
        <button class="pill-btn" data-type="canteen">Столовые</button>
        <button class="pill-btn" data-type="streetfood">Стритфуд</button>
        <button class="pill-btn" data-type="foodcourt">Фудкорты</button>
        <button class="pill-btn" data-type="homekitchen">Домашняя кухня</button>
        <button class="pill-btn" data-type="fastfood">Фастфуд</button>
        <button class="pill-btn" data-type="delivery">Доставка</button>
      </div>
    </div>

    <div class="catalog-grid" id="catalogGrid">
      <!-- Сюда подгружаем карточки заведений -->
    </div>
    
    <script>
      // Demo establishments with various types and cities
      const demoEstablishments = [
        { id: 1, name: "Ресторан 'Берлога'", city: "msk", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Традиционная русская кухня", rating: 4.7 },
        { id: 2, name: "Кафе 'Уголок'", city: "spb", type: "cafe", delivery: true, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Кофе и десерты", rating: 4.5 },
        { id: 3, name: "Столовая 'Содружество'", city: "ekb", type: "canteen", delivery: false, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Бизнес-ланчи", rating: 4.2 },
        { id: 4, name: "Стритфуд 'На колесах'", city: "nov", type: "streetfood", delivery: false, img: "https://images.unsplash.com/photo-1578926375602-e5f1b0b1c3d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Фастфуд на вынос", rating: 4.3 },
        { id: 5, name: "Фудкорт 'Вкусный двор'", city: "kaz", type: "foodcourt", delivery: true, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Много кухонь в одном месте", rating: 4.6 },
        { id: 6, name: "Домашняя кухня 'Бабушка Маша'", city: "nnv", type: "homekitchen", delivery: true, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Домашние пироги и борщи", rating: 4.8 },
        { id: 7, name: "McDonald's", city: "vor", type: "fastfood", delivery: true, img: "https://images.unsplash.com/photo-1603064752734-4c48eff53d05?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Бургеры и картошка фри", rating: 4.1 },
        { id: 8, name: "Доставка продуктов 'Еда на дом'", city: "sam", type: "delivery", delivery: true, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Доставка продуктов и готовых блюд", rating: 4.4 },
        { id: 9, name: "Суши-бар 'Япончик'", city: "spb", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1578926375602-e5f1b0b1c3d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Суши и роллы", rating: 4.6 },
        { id: 10, name: "Кофейня 'Утро'", city: "msk", type: "cafe", delivery: true, img: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Кофе и свежая выпечка", rating: 4.5 },
        { id: 11, name: "Пиццерия 'Домашняя'", city: "ekb", type: "fastfood", delivery: true, img: "https://images.unsplash.com/photo-1513104890138-7c749659a591?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Традиционная итальянская пицца", rating: 4.7 },
        { id: 12, name: "Вегетарианское кафе 'Зелень'", city: "nov", type: "cafe", delivery: true, img: "https://images.unsplash.com/photo-1414235077428-338989a2e8c0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Вегетарианская кухня", rating: 4.6 },
        { id: 13, name: "Грузинский ресторан 'Тбилиси'", city: "kaz", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1555396273-367ea4eb4db5?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Хачапури и хинкали", rating: 4.8 },
        { id: 14, name: "Фастфуд 'Бургер-Мастер'", city: "nnv", type: "fastfood", delivery: true, img: "https://images.unsplash.com/photo-1603064752734-4c48eff53d05?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Свежие бургеры", rating: 4.3 },
        { id: 15, name: "Домашняя кухня 'На Прачке'", city: "vor", type: "homekitchen", delivery: true, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Выпечка и сладости", rating: 4.7 },
        { id: 16, name: "Доставка 'Маркетплейс'", city: "sam", type: "delivery", delivery: true, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Доставка из супермаркетов", rating: 4.5 },
        { id: 17, name: "Кафе 'Садик'", city: "spb", type: "cafe", delivery: false, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Летнее кафе в парке", rating: 4.4 },
        { id: 18, name: "Ресторан 'Гастрономия'", city: "msk", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Международная кухня", rating: 4.9 },
        { id: 19, name: "Столовая 'Университетская'", city: "ekb", type: "canteen", delivery: false, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Питание для студентов", rating: 4.0 },
        { id: 20, name: "Фудтрак 'Гурман'", city: "nov", type: "streetfood", delivery: false, img: "https://images.unsplash.com/photo-1578926375602-e5f1b0b1c3d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Европейская кухня на колесах", rating: 4.5 },
        { id: 21, name: "Фудкорт 'Мегаполис'", city: "kaz", type: "foodcourt", delivery: true, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Разные кухни мира", rating: 4.6 },
        { id: 22, name: "Кафе 'Бабушкины пирожки'", city: "nnv", type: "homekitchen", delivery: true, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Домашняя выпечка", rating: 4.8 },
        { id: 23, name: "KFC", city: "vor", type: "fastfood", delivery: true, img: "https://images.unsplash.com/photo-1603064752734-4c48eff53d05?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Курица и снэки", rating: 4.2 },
        { id: 24, name: "Продуктовая доставка 'ВкусВилл'", city: "sam", type: "delivery", delivery: true, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Экологичные продукты", rating: 4.6 },
        { id: 25, name: "Ресторан 'Сантьяго'", city: "spb", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Латиноамериканская кухня", rating: 4.7 },
        { id: 26, name: "Кафе 'Морской берег'", city: "msk", type: "cafe", delivery: true, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Морепродукты", rating: 4.5 },
        { id: 27, name: "Столовая 'Фабрика вкуса'", city: "ekb", type: "canteen", delivery: false, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Здоровое питание", rating: 4.3 },
        { id: 28, name: "Фастфуд 'Сэндвич-бар'", city: "nov", type: "fastfood", delivery: true, img: "https://images.unsplash.com/photo-1603064752734-4c48eff53d05?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Свежие сэндвичи", rating: 4.4 },
        { id: 29, name: "Фудтрак 'Тайская кухня'", city: "kaz", type: "streetfood", delivery: false, img: "https://images.unsplash.com/photo-1578926375602-e5f1b0b1c3d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Тайская экзотика", rating: 4.6 },
        { id: 30, name: "Домашняя кухня 'На углу'", city: "nnv", type: "homekitchen", delivery: true, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Домашняя еда", rating: 4.7 },
        { id: 31, name: "Доставка 'Лента-экспресс'", city: "vor", type: "delivery", delivery: true, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Доставка из гипермаркета", rating: 4.4 },
        { id: 32, name: "Ресторан 'Венеция'", city: "sam", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Итальянская кухня", rating: 4.8 },
        { id: 33, name: "Кафе 'Утренний кофе'", city: "spb", type: "cafe", delivery: true, img: "https://images.unsplash.com/photo-1554118811-1e0d58224f24?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Кофе и завтраки", rating: 4.5 },
        { id: 34, name: "Шаурма 'Островок'", city: "msk", type: "fastfood", delivery: true, img: "https://images.unsplash.com/photo-1603064752734-4c48eff53d05?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Шаурма и хот-доги", rating: 4.1 },
        { id: 35, name: "Фудкорт 'Едим вдвоем'", city: "ekb", type: "foodcourt", delivery: true, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Компанией вкусно", rating: 4.5 },
        { id: 36, name: "Домашняя кухня 'Бабушка Агафья'", city: "nov", type: "homekitchen", delivery: true, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Традиционные блюда", rating: 4.9 },
        { id: 37, name: "Доставка 'Ашан-экспресс'", city: "kaz", type: "delivery", delivery: true, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Доставка из гипермаркета", rating: 4.5 },
        { id: 38, name: "Ресторан 'Пекин'", city: "nnv", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Китайская кухня", rating: 4.6 },
        { id: 39, name: "Кафе 'Сладкоежка'", city: "vor", type: "cafe", delivery: true, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Десерты и напитки", rating: 4.7 },
        { id: 40, name: "Фастфуд 'Донер-кебаб'", city: "sam", type: "fastfood", delivery: true, img: "https://images.unsplash.com/photo-1603064752734-4c48eff53d05?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Турецкие блюда", rating: 4.3 },
        { id: 41, name: "Фудтрак 'Буррито-экспресс'", city: "spb", type: "streetfood", delivery: false, img: "https://images.unsplash.com/photo-1578926375602-e5f1b0b1c3d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Мексиканская кухня", rating: 4.4 },
        { id: 42, name: "Фудкорт 'Мир вкуса'", city: "msk", type: "foodcourt", delivery: true, img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Все кухни мира", rating: 4.6 },
        { id: 43, name: "Домашняя кухня 'Солнышко'", city: "ekb", type: "homekitchen", delivery: true, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Домашние заготовки", rating: 4.8 },
        { id: 44, name: "Доставка 'Магнит-онлайн'", city: "nov", type: "delivery", delivery: true, img: "https://images.unsplash.com/photo-1556911220-e15b29be8c8f?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Доставка из магазинов", rating: 4.3 },
        { id: 45, name: "Ресторан 'Лион'", city: "kaz", type: "restaurant", delivery: true, img: "https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", description: "Французская кухня", rating: 4.7 }
      ];
      
      let allEstablishments = [...demoEstablishments];
      let currentPage = 1;
      const itemsPerPage = 16;

      // DOM Elements
      const citySelect = document.getElementById('city');
      const establishmentTypeSelect = document.getElementById('establishment-type');
      const deliveryAvailableSelect = document.getElementById('delivery-available');
      const applyFiltersBtn = document.getElementById('apply-filters');
      const catalogGrid = document.getElementById('catalogGrid');
      const pillButtons = document.querySelectorAll('.pill-btn');

      // Initialize
      document.addEventListener('DOMContentLoaded', function() {
        setupEventListeners();

        // Randomize initial display when page loads
        setTimeout(() => {
          applyFilters();
        }, 100);
      });

      // Setup event listeners
      function setupEventListeners() {
        // Filter button
        applyFiltersBtn.addEventListener('click', applyFilters);

        // City select dropdown
        citySelect.addEventListener('change', applyFilters);

        // Establishment type select dropdown
        establishmentTypeSelect.addEventListener('change', applyFilters);

        // Delivery availability select dropdown
        deliveryAvailableSelect.addEventListener('change', applyFilters);

        // Category pill buttons
        pillButtons.forEach(button => {
          button.addEventListener('click', function() {
            // Update active pill
            pillButtons.forEach(btn => btn.classList.remove('active'));
            this.classList.add('active');

            // Update category dropdown
            const type = this.getAttribute('data-type');
            establishmentTypeSelect.value = type;

            applyFilters();
          });
        });
      }

      // Apply filters and sorting
      function applyFilters() {
        const city = citySelect.value;
        const type = establishmentTypeSelect.value;
        const deliveryAvailable = deliveryAvailableSelect.value;

        // Filter establishments
        let filtered = allEstablishments.filter(est => {
          const matchesCity = !city || est.city === city;
          const matchesType = !type || est.type === type;
          
          let matchesDelivery = true;
          if (deliveryAvailable === 'yes') {
            matchesDelivery = est.delivery === true;
          } else if (deliveryAvailable === 'no') {
            matchesDelivery = est.delivery === false;
          }
          
          return matchesCity && matchesType && matchesDelivery;
        });

        filteredEstablishments = filtered;
        currentPage = 1;

        // Render first page
        renderCatalog(getCurrentPageItems());
      }

      // Get current page items
      function getCurrentPageItems() {
        const startIndex = (currentPage - 1) * itemsPerPage;
        const endIndex = startIndex + itemsPerPage;
        return filteredEstablishments.slice(startIndex, endIndex);
      }

      // Render establishments
      function renderCatalog(est) {
        const grid = document.getElementById('catalogGrid');
        grid.innerHTML = est.map(e => `
          <div class="product-card">
            <img src="${e.img}" alt="${e.name}">
            <h3>${e.name}</h3>
            <p class="vendor">${getEstablishmentTypeName(e.type)}</p>
            <div class="price">Рейтинг: ${e.rating} ★</div>
            <div style="padding: 0 1rem 1rem; font-size: 0.9rem; color: var(--text-secondary);">
              ${e.description}<br>
              Город: ${getCityName(e.city)}<br>
              ${e.delivery ? 'Доставка доступна' : 'Доставка недоступна'}
            </div>
            <a href="#" class="cta-button" style="width: 100%; margin-top: 0.75rem; display: block; text-align: center; text-decoration: none;">Заказать</a>
          </div>
        `).join('');
      }

      // Helper function to get establishment type name
      function getEstablishmentTypeName(type) {
        const names = {
          'restaurant': 'Ресторан',
          'cafe': 'Кафе',
          'canteen': 'Столовая',
          'streetfood': 'Стритфуд',
          'foodcourt': 'Фудкорт',
          'homekitchen': 'Домашняя кухня',
          'fastfood': 'Фастфуд',
          'delivery': 'Доставка'
        };
        return names[type] || type;
      }

      // Helper function to get city name
      function getCityName(cityCode) {
        const names = {
          'spb': 'Санкт-Петербург',
          'msk': 'Москва',
          'ekb': 'Екатеринбург',
          'nov': 'Новосибирск',
          'kaz': 'Казань',
          'nnv': 'Нижний Новгород',
          'vor': 'Воронеж',
          'sam': 'Самара'
        };
        return names[cityCode] || cityCode;
      }
    </script>

    <div class="pagination" style="text-align: center; margin-top: 2rem;">
      <button id="load-more" class="cta-button" style="display:none;">Загрузить ещё</button>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <a href="/" class="logo"><span>Витрина</span></a>
      <div class="footer-links desktop-links">
        <a href="/buyers.html">Для покупателей</a>
        <a href="/partners.html">Для партнёров</a>
        <a href="/business.html">Для бизнеса</a>
        <a href="/contacts.html">Контакты</a>
        <a href="/terms.html">Условия</a>
        <a href="/privacy.html">Конфиденциальность</a>
        <a href="/help.html">Помощь</a>
      </div>
      <div class="footer-mobile-menu">
        <details class="mobile-dropdown">
          <summary>Разделы</summary>
          <div class="mobile-links">
            <a href="/buyers.html">Для покупателей</a>
            <a href="/partners.html">Для партнёров</a>
            <a href="/business.html">Для бизнеса</a>
            <a href="/contacts.html">Контакты</a>
            <a href="/terms.html">Условия</a>
            <a href="/privacy.html">Конфиденциальность</a>
            <a href="/help.html">Помощь</a>
          </div>
        </details>
      </div>
    </div>
  </footer>

  <script src="/js/main.js"></script>

</body>
</html>