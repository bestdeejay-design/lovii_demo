<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Тест меню Профиль</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: Arial, sans-serif;
            padding-top: 80px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Стили для хедера */
        .header {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: #fff;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            z-index: 1000;
            padding: 15px 0;
        }

        .header .container {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            font-size: 24px;
            font-weight: bold;
            color: #333;
        }

        .logo-link {
            text-decoration: none;
            color: inherit;
        }

        /* Стили для основного меню */
        .main-menu {
            flex: 1;
            margin: 0 30px;
        }

        .main-menu-list {
            display: flex;
            list-style: none;
        }

        .nav-item {
            position: relative;
        }

        .nav-link {
            display: block;
            padding: 10px 15px;
            text-decoration: none;
            color: #333;
            transition: color 0.3s;
        }

        .nav-link:hover {
            color: #007bff;
        }

        .submenu {
            position: absolute;
            top: 100%;
            left: 0;
            background: #fff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            min-width: 200px;
            list-style: none;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .has-submenu.show-submenu .submenu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .submenu li {
            border-bottom: 1px solid #eee;
        }

        .submenu li:last-child {
            border-bottom: none;
        }

        .submenu a {
            display: block;
            padding: 12px 15px;
            text-decoration: none;
            color: #333;
            transition: background 0.3s;
        }

        .submenu a:hover {
            background: #f8f9fa;
            color: #007bff;
        }

        .submenu i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }

        .submenu-arrow {
            margin-left: 8px;
            transition: transform 0.3s;
        }

        /* Стили для профильного меню справа */
        .header-actions {
            display: flex;
            align-items: center;
        }

        .profile-menu {
            position: relative;
        }

        .profile-link {
            display: flex;
            align-items: center;
            padding: 10px;
            text-decoration: none;
            color: #333;
        }

        .profile-submenu {
            position: absolute;
            top: 100%;
            right: 0;
            background: #fff;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
            min-width: 220px;
            list-style: none;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.3s ease;
            z-index: 1001;
        }

        .profile-dropdown:hover .profile-submenu {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .item-count {
            background: #007bff;
            color: white;
            font-size: 12px;
            border-radius: 50%;
            padding: 2px 6px;
            margin-left: 5px;
        }

        .theme-toggle {
            margin-left: 15px;
            background: none;
            border: none;
            cursor: pointer;
            font-size: 18px;
            color: #333;
        }

        /* Контент страницы */
        .content {
            padding: 20px 0;
        }

        h1 {
            margin-bottom: 20px;
        }

        .test-section {
            margin-bottom: 40px;
            padding: 20px;
            border: 1px solid #ddd;
            border-radius: 8px;
        }

        .test-section h2 {
            margin-bottom: 15px;
        }

        .test-buttons {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .btn {
            padding: 10px 15px;
            background: #007bff;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            text-decoration: none;
            display: inline-block;
        }

        .btn:hover {
            background: #0056b3;
        }

        .status {
            margin-top: 10px;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 4px;
        }
    </style>
</head>
<body>
    <!-- Заголовок с меню -->
    <header class="header">
        <div class="container">
            <!-- Логотип (слева) -->
            <a href="index.html" class="logo-link">
                <div class="logo">Витрина</div>
            </a>

            <!-- Основное меню (по центру, 4 пункта) -->
            <nav class="nav-menu main-menu">
                <ul class="main-menu-list">
                    <!-- Товары и услуги -->
                    <li class="nav-item has-submenu">
                        <a href="/products" class="nav-link">
                            Товары и услуги <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li><a href="/catalog"><i class="fas fa-box"></i> Каталог товаров</a></li>
                            <li><a href="/services"><i class="fas fa-wrench"></i> Услуги</a></li>
                            <li><a href="/promotions"><i class="fas fa-gift"></i> Акции</a></li>
                        </ul>
                    </li>

                    <!-- Для бизнеса -->
                    <li class="nav-item has-submenu">
                        <a href="/business" class="nav-link">
                            Для бизнеса <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li><a href="/suppliers"><i class="fas fa-truck"></i> Поставщикам</a></li>
                            <li><a href="/partners"><i class="fas fa-handshake"></i> Партнерам</a></li>
                            <li><a href="/corporate"><i class="fas fa-building"></i> Корпоративным клиентам</a></li>
                        </ul>
                    </li>

                    <!-- О проекте -->
                    <li class="nav-item has-submenu">
                        <a href="/about" class="nav-link">
                            О проекте <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li><a href="/company"><i class="fas fa-info-circle"></i> О компании</a></li>
                            <li><a href="/contacts"><i class="fas fa-envelope"></i> Контакты</a></li>
                            <li><a href="/news"><i class="fas fa-newspaper"></i> Новости</a></li>
                        </ul>
                    </li>

                    <!-- Дополнительно -->
                    <li class="nav-item has-submenu">
                        <a href="/additional" class="nav-link">
                            Дополнительно <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li><a href="/help"><i class="fas fa-question-circle"></i> Помощь</a></li>
                            <li><a href="/documents"><i class="fas fa-file-alt"></i> Документы</a></li>
                            <li><a href="/delivery"><i class="fas fa-shipping-fast"></i> Доставка</a></li>
                            <li><a href="/payment"><i class="fas fa-credit-card"></i> Оплата</a></li>
                        </ul>
                    </li>

                    <!-- Профиль -->
                    <li class="nav-item has-submenu">
                        <a href="/profile" class="nav-link">
                            Профиль <i class="fas fa-chevron-down submenu-arrow"></i>
                        </a>
                        <ul class="submenu">
                            <li><a href="/personal"><i class="fas fa-user"></i> Личный кабинет</a></li>
                            <li><a href="/orders"><i class="fas fa-list"></i> Мои заказы</a></li>
                            <li><a href="/favorites"><i class="fas fa-heart"></i> Избранное</a></li>
                            <li><a href="/settings"><i class="fas fa-cog"></i> Настройки</a></li>
                        </ul>
                    </li>
                </ul>
            </nav>

            <!-- Профиль — справа -->
            <div class="header-actions">
                <nav class="profile-menu">
                    <ul>
                        <li class="nav-item has-submenu profile-dropdown">
                            <a href="#" class="nav-link profile-link">
                                <i class="fas fa-user"></i> Профиль
                                <i class="fas fa-chevron-down submenu-arrow"></i>
                            </a>
                            <ul class="submenu profile-submenu">
                                <li><a href="login.html"><i class="fas fa-sign-in-alt"></i> Войти</a></li>
                                <li><a href="wishlist.html"><i class="fas fa-heart"></i> Избранное <span class="item-count">5</span></a></li>
                                <li><a href="cart.html"><i class="fas fa-shopping-cart"></i> Корзина <span class="item-count">3</span></a></li>
                                <li><a href="compare.html"><i class="fas fa-exchange-alt"></i> Сравнить <span class="item-count">2</span></a></li>
                                <li><a href="recently-viewed.html"><i class="fas fa-eye"></i> Недавно просмотренные</a></li>
                                <li><a href="promotions.html"><i class="fas fa-gift"></i> Акции</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>

                <button id="theme-toggle" class="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </div>
    </header>

    <!-- Основной контент -->
    <div class="container content">
        <h1>Тестирование меню "Профиль"</h1>
        
        <div class="test-section">
            <h2>Тестирование основного меню "Профиль"</h2>
            <p>Проверьте следующие сценарии:</p>
            <ol>
                <li>Клик по стрелке в меню "Профиль" - должно открываться подменю</li>
                <li>Клик по тексту "Профиль" (не на стрелку) - должен происходить переход на страницу /profile</li>
                <li>Клик по ссылкам в подменю "Профиль" - должен происходить переход на соответствующие страницы</li>
            </ol>
            
            <div class="status" id="status-main">
                Статус: Ожидание действий...
            </div>
        </div>
        
        <div class="test-section">
            <h2>Тестирование подменю "Профиль" (справа)</h2>
            <p>Проверьте, что ссылки в правом выпадающем меню "Профиль" работают корректно</p>
            
            <div class="status" id="status-profile">
                Статус: Ожидание действий...
            </div>
        </div>
    </div>

    <!-- Подключаем JavaScript файлы -->
    <script src="/js/main-menu.js"></script>
    <script src="/js/routing.js"></script>
    <script>
        // Инициализируем меню
        document.addEventListener('DOMContentLoaded', function() {
            initializeMainMenu();
            
            // Обновляем статус при навигации
            if (typeof handleNavigation !== 'undefined') {
                const originalHandleNavigation = handleNavigation;
                window.handleNavigation = function(href) {
                    originalHandleNavigation(href);
                    document.getElementById('status-main').textContent = `Переход по ссылке: ${href}`;
                    document.getElementById('status-profile').textContent = `Последний переход: ${href}`;
                };
            }
            
            // Обработчики для тестирования
            document.querySelectorAll('.header .main-menu-list .submenu a').forEach(link => {
                link.addEventListener('click', function(e) {
                    const href = this.getAttribute('href');
                    document.getElementById('status-main').textContent = `Клик по подссылке: ${href}`;
                });
            });
        });
    </script>
</body>
</html>