<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>LOVII - –û–ø–µ—Ä–∞—Ç–æ—Ä –ª–æ—è–ª—å–Ω–æ—Å—Ç–∏</title>
    <link rel="icon" href="img/logo512.png" type="image/png">
    <link rel="apple-touch-icon" href="img/logo512.png">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: #E9E4D4; /* --bg-main */
            color: #4A5447; /* --text-primary */
            width: 375px;
            min-height: 100vh;
            margin: 0 auto;
            position: relative;
            overflow-x: hidden;
        }

        .screen {
            display: none;
            padding: 20px;
            height: calc(100vh - 120px); /* Account for header and footer */
            overflow-y: auto;
        }

        .screen.active {
            display: block;
        }

        /* Header styles */
        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
            background-color: #E9E4D4;
            position: sticky;
            top: 0;
            z-index: 100;
            border-bottom: 1px solid rgba(74, 84, 71, 0.1);
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .app-logo {
            height: 24px;
        }

        .hero-logo {
            height: 280px;
            margin: 0 auto 30px;
            display: block;
        }

        .profile-btn {
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
        }

        .profile-btn.hidden {
            display: none;
        }

        .profile-icon {
            width: 28px;
            height: 28px;
            fill: #4A5447;
        }

        /* Footer navigation */
        .footer-nav {
            display: none; /* Initially hidden until authenticated */
            justify-content: space-around;
            align-items: center;
            padding: 12px 10px;
            background-color: #E9E4D4;
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            width: 375px;
            margin: 0 auto;
            border-top: 1px solid rgba(74, 84, 71, 0.1);
        }

        .footer-nav.show {
            display: flex;
        }

        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 5px;
            cursor: pointer;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            fill: #4A5447;
        }

        .nav-label {
            font-size: 10px;
            margin-top: 2px;
            color: #4A5447;
        }

        .nav-item.center {
            position: relative;
        }

        .nav-item.center .nav-icon-wrapper {
            background-color: #C97C5D; /* --accent-terra */
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-top: -20px;
            border: 3px solid #E9E4D4;
        }

        .nav-item.center .nav-icon {
            width: 28px;
            height: 28px;
        }

        /* Screen 1 - Main */
        .main-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            height: 100%;
        }

        .main-logo {
            width: 240px;
            height: 240px;
            margin-bottom: 16px;
        }

        .catch-colors-btn {
            background-color: #C97C5D; /* --accent-terra */
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 12px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(201, 124, 93, 0.3);
            width: 80%;
        }

        /* Screen 2 - Authorization */
        .auth-screen {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .input-group {
            margin-bottom: 15px;
        }

        .input-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            font-size: 14px;
        }

        .input-group input {
            width: 100%;
            padding: 14px;
            border: 1px solid #8F9E8B; /* --accent-sage */
            border-radius: 8px;
            font-size: 16px;
            background-color: white;
        }

        .login-btn {
            background-color: #C97C5D; /* --accent-terra */
            color: white;
            border: none;
            padding: 16px;
            border-radius: 8px;
            font-size: 18px;
            font-weight: 600;
            cursor: pointer;
            margin-top: 10px;
            box-shadow: 0 4px 8px rgba(201, 124, 93, 0.3);
        }

        /* Screen 3 - SMS Code */
        .sms-screen {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 25px;
        }

        .sms-title {
            font-size: 20px;
            font-weight: 600;
            text-align: center;
            margin-top: 20px;
        }

        .code-input {
            width: 100%;
            max-width: 200px;
            padding: 14px;
            text-align: center;
            font-size: 24px;
            border: 1px solid #8F9E8B; /* --accent-sage */
            border-radius: 8px;
            letter-spacing: 8px;
        }

        .confirm-btn {
            background-color: #C97C5D; /* --accent-terra */
            color: white;
            border: none;
            padding: 16px 40px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(201, 124, 93, 0.3);
        }

        /* Categories screen styles */
        .categories-screen {
            padding-top: 20px;
        }

        .categories-title {
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
            color: #4A5447; /* --text-primary */
        }

        .categories-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .category-card {
            background-color: #F0EDDE;
            border-radius: 12px;
            padding: 16px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.05);
            border: 1px solid rgba(201, 124, 93, 0.1);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .category-card:hover, .category-card:focus {
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.1);
        }

        /* Stores screen styles */
        .stores-screen {
            padding-top: 20px;
        }

        .stores-title {
            font-size: 28px;
            font-weight: 700;
            margin-bottom: 25px;
            text-align: center;
            color: #4A5447; /* --text-primary */
            font-family: 'Inter', sans-serif;
        }

        .stores-grid {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .store-card {
            background-color: #F0EDDE;
            border-radius: 16px;
            padding: 20px;
            display: flex;
            flex-direction: column;
            box-shadow: 0 4px 12px rgba(79, 107, 92, 0.08);
            transition: all 0.3s ease;
        }

        .store-card:hover, .store-card:focus {
            transform: translateY(-5px);
            box-shadow: 0 8px 16px rgba(79, 107, 92, 0.15);
        }

        .store-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 15px;
        }

        .category-icon-circle {
            width: 48px;
            height: 48px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background-color: rgba(143, 158, 139, 0.1); /* Light sage background */
        }

        .store-icon {
            width: 48px;
            height: 48px;
            fill: #8F9E8B; /* --accent-sage */
        }

        .store-info {
            flex: 1;
        }

        .store-name {
            font-size: 18px;
            font-weight: 600;
            color: #4A5447; /* --text-primary */
            margin-bottom: 5px;
        }

        .store-category {
            font-size: 14px;
            color: #8F9E8B; /* --accent-sage */
            font-weight: 500;
        }

        .lovii-badge {
            display: flex;
            align-items: center;
            gap: 8px;
            background-color: #C97C5D; /* --accent-terra */
            color: white;
            padding: 8px 12px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 500;
            margin-bottom: 15px;
            align-self: flex-start;
        }

        .lovii-badge svg {
            width: 14px;
            height: 14px;
        }

        .open-btn {
            background-color: #C97C5D; /* --accent-terra */
            color: white;
            border: none;
            padding: 14px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            width: 100%;
            transition: background-color 0.3s ease;
        }

        .open-btn:hover {
            background-color: #b56c52; /* Darker terra */
        }

        .category-icon {
            width: 40px;
            height: 40px;
            margin-bottom: 10px;
        }

        .category-name {
            font-size: 14px;
            font-weight: 500;
            color: #4A5447;
        }

        @keyframes fadeInSlideUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo-container">
            <img src="img/logo512.png" alt="LOVII" class="app-logo">
        </div>
        <button class="profile-btn" id="profileBtn">
            <svg class="profile-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                <path d="M20 20C20 17.5 18 15.5 15.5 15.5H8.5C6 15.5 4 17.5 4 20" stroke="currentColor" stroke-width="2"/>
            </svg>
        </button>
    </header>

    <!-- Screen 1: Main -->
    <div id="mainScreen" class="screen active">
        <div class="main-screen">
            <img src="img/logo512.png" alt="LOVII" class="hero-logo">
            <button class="catch-colors-btn" id="catchColorsBtn">–õ–æ–≤–∏</button>
        </div>
    </div>

    <!-- Screen 2: Authorization -->
    <div id="authScreen" class="screen">
        <div class="auth-screen">
            <div class="input-group">
                <label for="phoneInput">–ù–æ–º–µ—Ä —Ç–µ–ª–µ—Ñ–æ–Ω–∞</label>
                <input type="tel" id="phoneInput" placeholder="+7 (___) ___-__-__">
            </div>
            <div class="input-group">
                <label for="promoInput">–ü—Ä–æ–º–æ–∫–æ–¥ (4 —Å–∏–º–≤–æ–ª–∞)</label>
                <input type="text" id="promoInput" placeholder="ABCD" maxlength="4">
            </div>
            <button class="login-btn" id="loginBtn">–í–æ–π—Ç–∏</button>
        </div>
    </div>

    <!-- Screen 3: SMS Code -->
    <div id="smsScreen" class="screen">
        <div class="sms-screen">
            <h2 class="sms-title">–í–≤–µ–¥–∏—Ç–µ –∫–æ–¥ –∏–∑ SMS</h2>
            <input type="text" class="code-input" id="codeInput" placeholder="____" maxlength="4">
            <button class="confirm-btn" id="confirmBtn">–ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å</button>
        </div>
    </div>

    <!-- Screen 4: Stores (Main screen after auth) -->
    <div id="storesScreen" class="screen">
        <div class="stores-screen">
            <h2 class="stores-title">–¢–æ—Ä–≥–æ–≤—ã–µ —Ç–æ—á–∫–∏ —Ä—è–¥–æ–º</h2>
            <div class="stores-grid" id="storesGrid">
                <!-- Store cards will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Screen 5: Categories -->
    <div id="categoriesScreen" class="screen">
        <div class="categories-screen">
            <h2 class="categories-title">–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –∑–∞–≤–µ–¥–µ–Ω–∏–π</h2>
            <div class="categories-grid" id="categoriesGrid">
                <!-- Categories will be populated by JavaScript -->
            </div>
        </div>
    </div>

    <!-- Footer Navigation -->
    <footer class="footer-nav" id="footerNav">
        <div class="nav-item" data-target="storesScreen">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M3 9L12 2L21 9V20C21 20.5304 20.7893 21.0391 20.4142 21.4142C20.0391 21.7893 19.5304 22 19 22H5C4.46957 22 3.96086 21.7893 3.58579 21.4142C3.21071 21.0391 3 20.5304 3 20V9Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M9 22V12H15V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="nav-label">–ì–ª–∞–≤–Ω–∞—è</span>
        </div>
        <div class="nav-item" data-target="categoriesScreen">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                <path d="M21 21L16.65 16.65" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="nav-label">–ü–æ–∏—Å–∫</span>
        </div>
        <div class="nav-item center" data-target="categoriesScreen">
            <div class="nav-icon-wrapper">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 5V19" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M5 12H19" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
        </div>
        <div class="nav-item" data-target="storesScreen">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M18 8C18 6.4087 17.3679 4.88258 16.2426 3.75736C15.1174 2.63214 13.5913 2 12 2C10.4087 2 8.88258 2.63214 7.75736 3.75736C6.63214 4.88258 6 6.4087 6 8C6 15 3 17 3 17H21C21 17 18 15 18 8Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                <path d="M13.73 21C13.5542 21.3031 13.3019 21.5547 12.9982 21.7295C12.6946 21.9044 12.3504 21.9965 12 21.9965C11.6496 21.9965 11.3054 21.9044 11.0018 21.7295C10.6982 21.5547 10.4458 21.3031 10.27 21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
            <span class="nav-label">–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è</span>
        </div>
        <div class="nav-item" data-target="storesScreen">
            <svg class="nav-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <circle cx="12" cy="8" r="4" stroke="currentColor" stroke-width="2"/>
                <path d="M20 20C20 17.5 18 15.5 15.5 15.5H8.5C6 15.5 4 17.5 4 20" stroke="currentColor" stroke-width="2"/>
            </svg>
            <span class="nav-label">–ü—Ä–æ—Ñ–∏–ª—å</span>
        </div>
    </footer>

    <script>
        // Categories list
        const categories = [
            "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è",
            "–°–≤–µ–∂–∞—è —Ä—ã–±–∞",
            "–£–ª–∏—á–Ω–∞—è –µ–¥–∞",
            "–Ø–ø–æ–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è",
            "–ü–µ–∫–∞—Ä–Ω–∏ –∏ –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ",
            "–¶–≤–µ—Ç–æ—á–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã",
            "–ö–æ—Ñ–µ–π–Ω–∏",
            "–§–µ—Ä–º–µ—Ä—Å–∫–∏–µ –ª–∞–≤–∫–∏",
            "–ë–∞—Ä–±–µ—Ä—à–æ–ø—ã",
            "–°–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã",
            "–ú–∞—Å—Å–∞–∂ –∏ —Å–ø–∞",
            "–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã –∏ –æ–±—É—á–µ–Ω–∏–µ",
            "–§–æ—Ç–æ–≥—Ä–∞—Ñ—ã",
            "–ê–≤—Ç–æ—Ä—Å–∫–∏–µ —é–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è",
            "–î–æ–º–∞—à–Ω–∏–µ –ø–æ–≤–∞—Ä–∞",
            "–ú–∞—Å—Ç–µ—Ä–∞ –º–∞–Ω–∏–∫—é—Ä–∞",
            "–§–∏—Ç–Ω–µ—Å –∏ –π–æ–≥–∞",
            "–ê—Ç–µ–ª—å–µ –∏ —Ä–µ–º–æ–Ω—Ç –æ–¥–µ–∂–¥—ã",
            "–ó–æ–æ—Ç–æ–≤–∞—Ä—ã –∏ –≥—Ä—É–º–∏–Ω–≥",
            "–ö–ª–∏–Ω–∏–Ω–≥ –∏ —É–±–æ—Ä–∫–∞"
        ];

        // Stores data for the main screen after auth
        const stores = [
            {
                name: '–†—ã–±–Ω—ã–π –ø—Ä–∏–ª–∞–≤–æ–∫ "–£ –ø—Ä–∏—á–∞–ª–∞"',
                category: '–°–≤–µ–∂–∞—è —Ä—ã–±–∞',
                icon: '<svg class="store-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M18 12C18 12 15 15 12 15C9 15 6 12 6 12C6 12 9 9 12 9C15 9 18 12 18 12Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 15V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 21H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
                points: 100
            },
            {
                name: '–ü–∏—Ü—Ü–µ—Ä–∏—è "–ú–∞—Ä–≥–∞—Ä–∏—Ç–∞"',
                category: '–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è',
                icon: '<svg class="store-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17 22 20 19 20 15C20 12.5 18.5 10 12 3C5.5 10 4 12.5 4 15C4 19 7 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 14C8.5 13 9.5 13 10 14C10.5 15 11.5 15 12 14C12.5 13 13.5 13 14 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                points: 150
            },
            {
                name: '–®–∞–≤–µ—Ä–º–∞ –Ω–∞ —É–≥–ª—É',
                category: '–£–ª–∏—á–Ω–∞—è –µ–¥–∞',
                icon: '<svg class="store-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 11H20C20 16 17 20 12 20C7 20 4 16 4 11Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M12 20V22" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 22H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
                points: 80
            },
            {
                name: '–Ø–ø–æ–Ω—Å–∫–∞—è –ª–∞–≤–∫–∞ "–•–∞—Ä—É—à–∏"',
                category: '–Ø–ø–æ–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è',
                icon: '<svg class="store-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="8" stroke="currentColor" stroke-width="2"/><path d="M12 8V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 12H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
                points: 200
            },
            {
                name: '–ë—É–ª–æ—á–Ω–∞—è "–†–∂–∞–Ω–æ–µ —Å—á–∞—Å—Ç—å–µ"',
                category: '–ü–µ–∫–∞—Ä–Ω–∏ –∏ –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ',
                icon: '<svg class="store-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2 15C2 15 4 13 8 13C12 13 16 17 22 17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M10 13V9C10 7.34315 11.3431 6 13 6C14.6569 6 16 7.34315 16 9V13" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
                points: 120
            },
            {
                name: '–ö–æ—Ñ–µ–π–Ω—è "–£—é—Ç–Ω—ã–π —É–≥–æ–ª"',
                category: '–ö–æ—Ñ–µ–π–Ω–∏',
                icon: '<svg class="store-icon" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17 12C17 14.2091 15.2091 16 13 16C10.7909 16 9 14.2091 9 12C9 9.79086 10.7909 8 13 8C15.2091 8 17 9.79086 17 12Z" stroke="currentColor" stroke-width="2"/><path d="M18 22C18 20.8954 17.1046 20 16 20H10C8.89543 20 8 20.8954 8 22" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M20 16V12C20 8.68629 17.3137 6 14 6H10C6.68629 6 4 8.68629 4 12V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
                points: 110
            }
        ];

        // Category icons mapping (using SVG as required)
        const categoryIcons = {
            "–ò—Ç–∞–ª—å—è–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17 22 20 19 20 15C20 12.5 18.5 10 12 3C5.5 10 4 12.5 4 15C4 19 7 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 14C8.5 13 9.5 13 10 14C10.5 15 11.5 15 12 14C12.5 13 13.5 13 14 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–°–≤–µ–∂–∞—è —Ä—ã–±–∞": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><line x1="12" y1="7" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–£–ª–∏—á–Ω–∞—è –µ–¥–∞": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 19V9C4 7.89543 4.89543 7 6 7H18C19.1046 7 20 7.89543 20 9V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19Z" stroke="currentColor" stroke-width="2"/><path d="M12 12V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 16H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–Ø–ø–æ–Ω—Å–∫–∞—è –∫—É—Ö–Ω—è": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 15C16 14.2044 15.8424 13.4178 15.5355 12.7002C15.2286 11.9825 14.7804 11.3504 14.2222 10.8508C13.664 10.3512 12.999 10.0006 12.28 9.8293C11.561 9.65801 10.8072 9.67147 10.0797 9.8689C9.35213 10.0663 8.67053 10.4422 8.0918 10.9666C7.51307 11.491 7.0549 12.1476 6.75595 12.8847C6.457 13.6219 6.3262 14.4169 6.37538 15.2074C6.42456 15.9979 6.65222 16.7598 7 17.435" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–ü–µ–∫–∞—Ä–Ω–∏ –∏ –∫–æ–Ω–¥–∏—Ç–µ—Ä—Å–∫–∏–µ": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17 22 20 19 20 15C20 12.5 18.5 10 12 3C5.5 10 4 12.5 4 15C4 19 7 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 14C8.5 13 9.5 13 10 14C10.5 15 11.5 15 12 14C12.5 13 13.5 13 14 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–¶–≤–µ—Ç–æ—á–Ω—ã–µ –º–∞–≥–∞–∑–∏–Ω—ã": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><line x1="12" y1="7" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–ö–æ—Ñ–µ–π–Ω–∏": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 19V9C4 7.89543 4.89543 7 6 7H18C19.1046 7 20 7.89543 20 9V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19Z" stroke="currentColor" stroke-width="2"/><path d="M12 12V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 16H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–§–µ—Ä–º–µ—Ä—Å–∫–∏–µ –ª–∞–≤–∫–∏": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 15C16 14.2044 15.8424 13.4178 15.5355 12.7002C15.2286 11.9825 14.7804 11.3504 14.2222 10.8508C13.664 10.3512 12.999 10.0006 12.28 9.8293C11.561 9.65801 10.8072 9.67147 10.0797 9.8689C9.35213 10.0663 8.67053 10.4422 8.0918 10.9666C7.51307 11.491 7.0549 12.1476 6.75595 12.8847C6.457 13.6219 6.3262 14.4169 6.37538 15.2074C6.42456 15.9979 6.65222 16.7598 7 17.435" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–ë–∞—Ä–±–µ—Ä—à–æ–ø—ã": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17 22 20 19 20 15C20 12.5 18.5 10 12 3C5.5 10 4 12.5 4 15C4 19 7 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 14C8.5 13 9.5 13 10 14C10.5 15 11.5 15 12 14C12.5 13 13.5 13 14 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–°–∞–ª–æ–Ω—ã –∫—Ä–∞—Å–æ—Ç—ã": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><line x1="12" y1="7" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–ú–∞—Å—Å–∞–∂ –∏ —Å–ø–∞": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 19V9C4 7.89543 4.89543 7 6 7H18C19.1046 7 20 7.89543 20 9V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19Z" stroke="currentColor" stroke-width="2"/><path d="M12 12V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 16H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–†–µ–ø–µ—Ç–∏—Ç–æ—Ä—ã –∏ –æ–±—É—á–µ–Ω–∏–µ": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 15C16 14.2044 15.8424 13.4178 15.5355 12.7002C15.2286 11.9825 14.7804 11.3504 14.2222 10.8508C13.664 10.3512 12.999 10.0006 12.28 9.8293C11.561 9.65801 10.8072 9.67147 10.0797 9.8689C9.35213 10.0663 8.67053 10.4422 8.0918 10.9666C7.51307 11.491 7.0549 12.1476 6.75595 12.8847C6.457 13.6219 6.3262 14.4169 6.37538 15.2074C6.42456 15.9979 6.65222 16.7598 7 17.435" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–§–æ—Ç–æ–≥—Ä–∞—Ñ—ã": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17 22 20 19 20 15C20 12.5 18.5 10 12 3C5.5 10 4 12.5 4 15C4 19 7 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 14C8.5 13 9.5 13 10 14C10.5 15 11.5 15 12 14C12.5 13 13.5 13 14 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–ê–≤—Ç–æ—Ä—Å–∫–∏–µ —é–≤–µ–ª–∏—Ä–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><line x1="12" y1="7" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–î–æ–º–∞—à–Ω–∏–µ –ø–æ–≤–∞—Ä–∞": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 19V9C4 7.89543 4.89543 7 6 7H18C19.1046 7 20 7.89543 20 9V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19Z" stroke="currentColor" stroke-width="2"/><path d="M12 12V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 16H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–ú–∞—Å—Ç–µ—Ä–∞ –º–∞–Ω–∏–∫—é—Ä–∞": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 15C16 14.2044 15.8424 13.4178 15.5355 12.7002C15.2286 11.9825 14.7804 11.3504 14.2222 10.8508C13.664 10.3512 12.999 10.0006 12.28 9.8293C11.561 9.65801 10.8072 9.67147 10.0797 9.8689C9.35213 10.0663 8.67053 10.4422 8.0918 10.9666C7.51307 11.491 7.0549 12.1476 6.75595 12.8847C6.457 13.6219 6.3262 14.4169 6.37538 15.2074C6.42456 15.9979 6.65222 16.7598 7 17.435" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–§–∏—Ç–Ω–µ—Å –∏ –π–æ–≥–∞": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 22C17 22 20 19 20 15C20 12.5 18.5 10 12 3C5.5 10 4 12.5 4 15C4 19 7 22 12 22Z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M8 14C8.5 13 9.5 13 10 14C10.5 15 11.5 15 12 14C12.5 13 13.5 13 14 14" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',
            "–ê—Ç–µ–ª—å–µ –∏ —Ä–µ–º–æ–Ω—Ç –æ–¥–µ–∂–¥—ã": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="2"/><line x1="12" y1="7" x2="12" y2="12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><line x1="12" y1="17" x2="12.01" y2="17" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–ó–æ–æ—Ç–æ–≤–∞—Ä—ã –∏ –≥—Ä—É–º–∏–Ω–≥": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 19V9C4 7.89543 4.89543 7 6 7H18C19.1046 7 20 7.89543 20 9V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19Z" stroke="currentColor" stroke-width="2"/><path d="M12 12V16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/><path d="M8 16H16" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>',
            "–ö–ª–∏–Ω–∏–Ω–≥ –∏ —É–±–æ—Ä–∫–∞": '<svg class="category-icon-svg" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M20 21V19C20 17.9391 19.5786 16.9217 18.8284 16.1716C18.0783 15.4214 17.0609 15 16 15H8C6.93913 15 5.92172 15.4214 5.17157 16.1716C4.42143 16.9217 4 17.9391 4 19V21" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/><path d="M16 15C16 14.2044 15.8424 13.4178 15.5355 12.7002C15.2286 11.9825 14.7804 11.3504 14.2222 10.8508C13.664 10.3512 12.999 10.0006 12.28 9.8293C11.561 9.65801 10.8072 9.67147 10.0797 9.8689C9.35213 10.0663 8.67053 10.4422 8.0918 10.9666C7.51307 11.491 7.0549 12.1476 6.75595 12.8847C6.457 13.6219 6.3262 14.4169 6.37538 15.2074C6.42456 15.9979 6.65222 16.7598 7 17.435" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>'
        };

        // Stores data for the main screen after auth

        // DOM elements
        const mainScreen = document.getElementById('mainScreen');
        const authScreen = document.getElementById('authScreen');
        const smsScreen = document.getElementById('smsScreen');
        const storesScreen = document.getElementById('storesScreen');
        const categoriesScreen = document.getElementById('categoriesScreen');
        
        const catchColorsBtn = document.getElementById('catchColorsBtn');
        const loginBtn = document.getElementById('loginBtn');
        const confirmBtn = document.getElementById('confirmBtn');
        const profileBtn = document.getElementById('profileBtn');
        
        const footerNav = document.getElementById('footerNav');
        const categoriesGrid = document.getElementById('categoriesGrid');

        // Generate categories grid
        function generateCategoriesGrid() {
            categoriesGrid.innerHTML = '';
            categories.forEach(category => {
                const categoryCard = document.createElement('div');
                categoryCard.className = 'category-card';
                categoryCard.innerHTML = `
                    <div class="category-icon">${categoryIcons[category] || 'üè∑Ô∏è'}</div>
                    <div class="category-name">${category}</div>
                `;
                categoryCard.addEventListener('click', () => {
                    // For now just log the click - in future implementation could navigate somewhere
                    console.log(`Category clicked: ${category}`);
                });
                categoriesGrid.appendChild(categoryCard);
            });
        }

        // Function to show a specific screen and hide others
        function showScreen(screenId) {
            // Hide all screens
            mainScreen.classList.remove('active');
            authScreen.classList.remove('active');
            smsScreen.classList.remove('active');
            storesScreen.classList.remove('active');
            categoriesScreen.classList.remove('active');
            
            // Show selected screen
            document.getElementById(screenId).classList.add('active');
            
            // Update footer visibility based on authentication status
            updateFooterVisibility();
        }

        // Update footer visibility based on current screen
        function updateFooterVisibility() {
            const isAuthenticated = window.location.hash !== '#start' && 
                                  window.location.hash !== '' && 
                                  !window.location.hash.includes('auth') && 
                                  !window.location.hash.includes('sms');
                                  
            if (isAuthenticated) {
                footerNav.classList.add('show');
            } else {
                footerNav.classList.remove('show');
            }
        }

        // Handle hash change
        function handleHashChange() {
            const hash = window.location.hash.substring(1);
            let targetScreen = 'mainScreen'; // default
            
            switch(hash) {
                case 'start':
                    targetScreen = 'mainScreen';
                    // Hide profile button on start screen
                    profileBtn.classList.add('hidden');
                    break;
                case 'auth':
                    targetScreen = 'authScreen';
                    // Show profile button on other screens
                    profileBtn.classList.remove('hidden');
                    break;
                case 'sms':
                    targetScreen = 'smsScreen';
                    // Show profile button on other screens
                    profileBtn.classList.remove('hidden');
                    break;
                case 'main':
                    targetScreen = 'storesScreen';
                    // Show profile button on other screens
                    profileBtn.classList.remove('hidden');
                    break;
                case 'categories':
                    targetScreen = 'categoriesScreen';
                    // Show profile button on other screens
                    profileBtn.classList.remove('hidden');
                    break;
                default:
                    // Show profile button on other screens
                    profileBtn.classList.remove('hidden');
                    break;
            }
            
            showScreen(targetScreen);
        }

        // Navigate to a specific screen via hash
        function navigateTo(screenHash) {
            window.location.hash = screenHash;
        }

        // Event listeners for screen transitions
        catchColorsBtn.addEventListener('click', () => {
            navigateTo('auth');
        });

        loginBtn.addEventListener('click', () => {
            navigateTo('sms');
        });

        confirmBtn.addEventListener('click', () => {
            navigateTo('main');
        });

        profileBtn.addEventListener('click', () => {
            // Go back to start screen
            navigateTo('start');
        });

        // Add event listeners to footer nav items
        document.querySelectorAll('.nav-item[data-target]').forEach(item => {
            item.addEventListener('click', () => {
                const target = item.getAttribute('data-target');
                
                if(target === 'categoriesScreen') {
                    navigateTo('categories');
                } else if(target === 'storesScreen') {
                    navigateTo('main');
                }
            });
        });

        // Center button specifically navigates to categories
        document.querySelector('.nav-item.center').addEventListener('click', () => {
            navigateTo('categories');
        });

        // Initialize the app
        document.addEventListener('DOMContentLoaded', () => {
            // Set initial hash if none exists
            if (!window.location.hash) {
                window.location.hash = 'start';
            }
            
            // Generate categories grid
            generateCategoriesGrid();
            
            // Generate stores grid
            function generateStoresGrid() {
                storesGrid.innerHTML = '';
                stores.forEach(store => {
                    const storeCard = document.createElement('div');
                    storeCard.className = 'store-card';
                    storeCard.innerHTML = `
                        <div class="store-header">
                            <div class="category-icon-circle">
                                ${store.icon}
                            </div>
                            <div class="store-info">
                                <div class="store-name">${store.name}</div>
                                <div class="store-category">${store.category}</div>
                            </div>
                        </div>
                        <div class="lovii-badge">
                            <svg viewBox="0 0 14 14" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M7 12C7 12 2 9 2 5C2 3.34315 3.34315 2 5 2C5.75 2 6.5 2.25 7 2.75C7.5 2.25 8.25 2 9 2C10.6569 2 12 3.34315 12 5C12 9 7 12 7 12Z" fill="white"/>
                                <path d="M5 5C4 6 5 8 6 8C7 8 8 6 7 5C6 4 5 5 5 5Z" fill="white"/>
                                <path d="M9 5C10 6 9 8 8 8C7 8 6 6 7 5C8 4 9 5 9 5Z" fill="white"/>
                            </svg>
                            +${store.points} –±–∞–ª–ª–æ–≤ –∑–∞ –ø–æ–∫—É–ø–∫—É
                        </div>
                        <button class="open-btn">–û—Ç–∫—Ä—ã—Ç—å</button>
                    `;
                    storesGrid.appendChild(storeCard);
                });
            }
            
            // Generate stores grid on page load
            generateStoresGrid();
            
            // Handle initial hash
            handleHashChange();
            
            // Listen for hash changes
            window.addEventListener('hashchange', handleHashChange);
            
            // Add animation to store cards when they become visible
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('animate-in');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            
            // Observe store cards
            document.querySelectorAll('.store-card').forEach(card => {
                observer.observe(card);
            });
        });
    </script>
</body>
</html>
