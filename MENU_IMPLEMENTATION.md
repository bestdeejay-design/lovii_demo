# Реализация основного меню

## Структура меню

Основное меню реализовано по следующей структуре:

```
─ /products (Товары и услуги)
│   ├── /catalog (Каталог товаров)
│   ├── /services (Услуги)
│   └── /promotions (Акции)
├── /business (Для бизнеса)
│   ├── /suppliers (Поставщикам)
│   ├── /partners (Партнерам)
│   └── /corporate (Корпоративным клиентам)
├── /about (О проекте)
│   ├── /company (О компании)
│   ├── /contacts (Контакты)
│   └── /news (Новости)
├── /additional (Дополнительно)
│   ├── /help (Помощь)
│   ├── /documents (Документы)
│   ├── /delivery (Доставка)
│   └── /payment (Оплата)
└── /profile (Профиль)
    ├── /personal (Личный кабинет)
    ├── /orders (Мои заказы)
    ├── /favorites (Избранное)
    └── /settings (Настройки)
```

## Файлы реализации

- `/templates/header.html` - шаблон заголовка с меню
- `/js/main-menu.js` - основная логика работы меню
- `/js/routing_helper.js` - логика маршрутизации
- `/css/components/main-menu.css` - стили для меню
- `/test_menu_complete.html` - тестовая страница для проверки работы меню

## Особенности реализации

1. **Открытие подменю**: При клике на элемент меню с подменю (имеющий класс `has-submenu`) открывается соответствующее подменю.

2. **Закрытие подменю**: При клике на другой элемент меню или вне области меню, открытые подменю закрываются.

3. **Переход по ссылкам**: 
   - Элементы меню без подменю сразу переходят по соответствующему URL
   - Элементы меню с подменю открывают подменю при клике, а дочерние элементы переходят по своим URL

4. **Адаптивность**: Меню корректно работает как на десктопных, так и на мобильных устройствах.

5. **Маршрутизация**: Реализована клиентская маршрутизация с использованием History API, что позволяет обновлять URL без перезагрузки страницы.

## Использование

Для подключения меню на страницу:

1. Подключите необходимые CSS файлы:
   ```html
   <link rel="stylesheet" href="css/main.css">
   ```

2. Подключите JavaScript файлы:
   ```html
   <script src="js/main-menu.js"></script>
   <script src="js/routing_helper.js"></script>
   <script src="js/main.js"></script>
   ```

3. Инициализируйте меню:
   ```javascript
   document.addEventListener('DOMContentLoaded', function() {
       initializeMainMenu();
       initializeMobileMenu();
       setTimeout(initializeAfterTemplatesLoad, 100);
   });
   ```

## Возможные проблемы и решения

1. **Меню не открывается**: Проверьте, что все необходимые JavaScript файлы подключены и функция `initializeMainMenu()` вызывается после загрузки DOM.

2. **Ссылки не работают**: Убедитесь, что в HTML используются правильные URL и что нет конфликта с обработчиками событий.

3. **Подменю не закрывается**: Проверьте, что в CSS правильно заданы классы для отображения/скрытия подменю.