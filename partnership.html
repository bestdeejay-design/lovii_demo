<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Партнёрская программа Витрины - зарабатывайте приглашая других поставщиков">
    <meta name="keywords" content="партнерская программа, заработок, бизнес, поставщики">
    <title>Партнёрская программа - Витрина</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/main_menu_styles.css">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Header will be loaded via JavaScript -->
    <div id="header-container"></div>

    <section class="hero">
        <div class="container">
            <div class="hero-content">
                <h1>Партнёрская программа</h1>
                <p>Приводите других поставщиков — получайте бонусы</p>
            </div>
        </div>
    </section>

    <section class="partnership-section">
        <div class="container">
            <div class="partnership-intro">
                <h2>Как это работает</h2>
                <p>Зарабатывайте на привлечении новых поставщиков на платформу Витрина. Чем больше активных партнёров вы привлекаете, тем больше зарабатываете.</p>
                
                <div class="benefits-grid">
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-coins"></i>
                        </div>
                        <h3>5 000₽ за каждого активного поставщика</h3>
                        <p>Получайте фиксированную сумму за каждого поставщика, который начинает продавать на платформе</p>
                    </div>
                    
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-percentage"></i>
                        </div>
                        <h3>1% от оборота на 6 месяцев</h3>
                        <p>Дополнительный доход в размере 1% от оборота привлечённого поставщика в течение 6 месяцев</p>
                    </div>
                    
                    <div class="benefit-card">
                        <div class="benefit-icon">
                            <i class="fas fa-chart-line"></i>
                        </div>
                        <h3>Личный кабинет партнёра</h3>
                        <p>Отслеживайте привлечённых поставщиков и статистику заработка в персональном кабинете</p>
                    </div>
                </div>
            </div>
            
            <div class="referral-system">
                <h2>Система рефералов</h2>
                
                <div class="referral-process">
                    <div class="process-step">
                        <div class="step-number">1</div>
                        <h3>Получите свою ссылку</h3>
                        <p>После регистрации в партнёрской программе вы получаете уникальную реферальную ссылку</p>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">2</div>
                        <h3>Делитесь ссылкой</h3>
                        <p>Рассылайте ссылку потенциальным поставщикам через email, социальные сети или лично</p>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">3</div>
                        <h3>Поставщик регистрируется</h3>
                        <p>Поставщик переходит по вашей ссылке и регистрируется на платформе</p>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">4</div>
                        <h3>Зарабатывайте</h3>
                        <p>Получайте бонусы за активных поставщиков и часть от их оборота</p>
                    </div>
                </div>
            </div>
            
            <div class="earnings-calculator">
                <h2>Калькулятор дохода</h2>
                <p>Оцените потенциальный доход от партнёрской программы</p>
                
                <div class="calculator">
                    <div class="calculator-inputs">
                        <div class="form-group">
                            <label for="referrals-count">Количество привлечённых поставщиков</label>
                            <input type="number" id="referrals-count" name="referrals_count" value="5" min="0" max="100">
                        </div>
                        
                        <div class="form-group">
                            <label for="avg-turnover">Средний оборот одного поставщика в месяц (₽)</label>
                            <input type="number" id="avg-turnover" name="avg_turnover" value="500000" min="0">
                        </div>
                    </div>
                    
                    <div class="calculator-results">
                        <div class="result-item">
                            <span>Бонусы за регистрацию:</span>
                            <span id="registration-bonus">25 000₽</span>
                        </div>
                        <div class="result-item">
                            <span>Доход от оборота (1% × 6 мес):</span>
                            <span id="turnover-income">150 000₽</span>
                        </div>
                        <div class="result-item total">
                            <span>Общий доход за 6 месяцев:</span>
                            <span id="total-income">175 000₽</span>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="partner-dashboard">
                <h2>Личный кабинет партнёра</h2>
                
                <div class="dashboard-metrics">
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-users"></i>
                        </div>
                        <div class="metric-info">
                            <div class="metric-value" id="referrals-count-metric">12</div>
                            <div class="metric-label">Привлечённые поставщики</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-ruble-sign"></i>
                        </div>
                        <div class="metric-info">
                            <div class="metric-value" id="earnings-metric">45 000₽</div>
                            <div class="metric-label">Заработано в этом месяце</div>
                        </div>
                    </div>
                    
                    <div class="metric-card">
                        <div class="metric-icon">
                            <i class="fas fa-chart-pie"></i>
                        </div>
                        <div class="metric-info">
                            <div class="metric-value" id="conversion-metric">28%</div>
                            <div class="metric-label">Конверсия</div>
                        </div>
                    </div>
                </div>
                
                <div class="referral-link-section">
                    <h3>Ваша реферальная ссылка</h3>
                    <div class="referral-link-container">
                        <input type="text" id="referral-link" value="https://vitrina.ru/register?ref=partner123" readonly>
                        <button class="btn btn-outline" id="copy-link">Копировать</button>
                    </div>
                </div>
            </div>
            
            <div class="join-program">
                <h2>Присоединиться к партнёрской программе</h2>
                <p>Станьте партнёром и начните зарабатывать уже сегодня</p>
                
                <button class="btn btn-primary btn-large" id="join-program-btn">Подать заявку</button>
            </div>
        </div>
    </section>

    <!-- Footer will be loaded via JavaScript -->
    <div id="footer-container"></div>

    <!-- Mobile Navigation -->
    <div id="mobile-nav-container"></div>

    <script src="js/main.js"></script>
    <script>
        // Load header, footer and mobile navigation templates
        document.addEventListener('DOMContentLoaded', function() {
            loadTemplate('templates/header.html', 'header-container');
            loadTemplate('templates/footer.html', 'footer-container');
            loadTemplate('templates/mobile-nav.html', 'mobile-nav-container');
            
            initializePartnershipPage();
        });

        function loadTemplate(url, elementId) {
            fetch(url)
                .then(response => response.text())
                .then(data => {
                    document.getElementById(elementId).innerHTML = data;
                    // Re-initialize any JavaScript functionality after template is loaded
                    if (elementId === 'mobile-nav-container') {
                        initializeNewMobileNavigation();
                    } else if (elementId === 'header-container') {
                        initializeMobileMenu();
                    }
                    
                    // After all templates are loaded, try initializing components again
                    setTimeout(initializeAfterTemplatesLoad, 50);
                })
                .catch(error => console.error('Error loading template:', error));
        }
        
        function initializePartnershipPage() {
            // Calculator functionality
            const referralsCount = document.getElementById('referrals-count');
            const avgTurnover = document.getElementById('avg-turnover');
            
            referralsCount.addEventListener('input', calculateEarnings);
            avgTurnover.addEventListener('input', calculateEarnings);
            
            // Initialize calculator with default values
            calculateEarnings();
            
            // Copy referral link functionality
            document.getElementById('copy-link').addEventListener('click', function() {
                const linkInput = document.getElementById('referral-link');
                linkInput.select();
                document.execCommand('copy');
                
                // Show feedback
                const originalText = this.textContent;
                this.textContent = 'Скопировано!';
                setTimeout(() => {
                    this.textContent = originalText;
                }, 2000);
            });
            
            // Join program button
            document.getElementById('join-program-btn').addEventListener('click', function() {
                alert('Спасибо за интерес к партнёрской программе! Наш менеджер свяжется с вами в течение 24 часов для завершения регистрации.');
            });
        }
        
        function calculateEarnings() {
            const referrals = parseInt(document.getElementById('referrals-count').value) || 0;
            const avgTurnoverValue = parseInt(document.getElementById('avg-turnover').value) || 0;
            
            // Registration bonus: 5000 per referral
            const registrationBonus = referrals * 5000;
            
            // Turnover income: 1% of average turnover * 6 months
            const turnoverIncome = avgTurnoverValue * 0.01 * 6;
            
            // Total income
            const totalIncome = registrationBonus + turnoverIncome;
            
            document.getElementById('registration-bonus').textContent = formatCurrency(registrationBonus);
            document.getElementById('turnover-income').textContent = formatCurrency(turnoverIncome);
            document.getElementById('total-income').textContent = formatCurrency(totalIncome);
        }
        
        function formatCurrency(amount) {
            return new Intl.NumberFormat('ru-RU').format(amount) + '₽';
        }
    </script>
    
    <style>
        .partnership-section {
            padding: 3rem 0;
            background-color: var(--bg-primary);
        }
        
        .partnership-intro {
            text-align: center;
            margin-bottom: 3rem;
        }
        
        .partnership-intro h2 {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }
        
        .partnership-intro p {
            color: var(--text-secondary);
            margin-bottom: 2rem;
            max-width: 800px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .benefits-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-top: 2rem;
        }
        
        .benefit-card {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 10px;
            text-align: center;
            box-shadow: var(--shadow);
        }
        
        .benefit-icon {
            font-size: 2.5rem;
            color: var(--accent-color);
            margin-bottom: 1rem;
        }
        
        .benefit-card h3 {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }
        
        .benefit-card p {
            color: var(--text-secondary);
        }
        
        .referral-process {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 2rem;
            margin: 3rem 0;
        }
        
        .process-step {
            text-align: center;
            position: relative;
        }
        
        .process-step::after {
            content: '';
            position: absolute;
            top: 40px;
            right: -15px;
            width: 30px;
            height: 2px;
            background-color: var(--accent-color);
            display: none;
        }
        
        .process-step:last-child::after {
            display: none;
        }
        
        .step-number {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background-color: var(--accent-color);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
            margin: 0 auto 1rem;
        }
        
        .process-step h3 {
            color: var(--text-primary);
            margin-bottom: 0.5rem;
        }
        
        .process-step p {
            color: var(--text-secondary);
        }
        
        .earnings-calculator {
            background-color: var(--card-bg);
            padding: 2rem;
            border-radius: 10px;
            margin: 3rem 0;
            text-align: center;
        }
        
        .calculator {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 2rem;
            margin-top: 1.5rem;
        }
        
        .calculator-inputs {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        
        .calculator-results {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            border-left: 1px solid var(--border-color);
            padding-left: 2rem;
        }
        
        .result-item {
            display: flex;
            justify-content: space-between;
            padding: 0.5rem 0;
            border-bottom: 1px solid var(--border-color);
        }
        
        .result-item.total {
            font-weight: bold;
            font-size: 1.2rem;
            color: var(--accent-color);
            border-bottom: 2px solid var(--accent-color);
        }
        
        .partner-dashboard {
            margin: 3rem 0;
        }
        
        .dashboard-metrics {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1.5rem;
            margin: 2rem 0;
        }
        
        .metric-card {
            background-color: var(--card-bg);
            padding: 1.5rem;
            border-radius: 10px;
            display: flex;
            align-items: center;
            gap: 1rem;
            box-shadow: var(--shadow);
        }
        
        .metric-icon {
            width: 50px;
            height: 50px;
            border-radius: 10px;
            background-color: rgba(76, 175, 80, 0.1);
            color: var(--accent-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
        }
        
        .metric-info {
            flex: 1;
        }
        
        .metric-value {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--text-primary);
            margin-bottom: 0.25rem;
        }
        
        .metric-label {
            color: var(--text-secondary);
            font-size: 0.9rem;
        }
        
        .referral-link-section {
            margin-top: 2rem;
        }
        
        .referral-link-container {
            display: flex;
            gap: 1rem;
        }
        
        #referral-link {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid var(--border-color);
            border-radius: 5px;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }
        
        .join-program {
            text-align: center;
            margin: 4rem 0 2rem;
            padding: 2rem;
            background-color: var(--card-bg);
            border-radius: 10px;
        }
        
        .join-program h2 {
            color: var(--text-primary);
            margin-bottom: 1rem;
        }
        
        .join-program p {
            color: var(--text-secondary);
            margin-bottom: 1.5rem;
        }
        
        .btn-large {
            padding: 1rem 2rem;
            font-size: 1.1rem;
        }
        
        @media (max-width: 768px) {
            .calculator {
                grid-template-columns: 1fr;
            }
            
            .calculator-results {
                border-left: none;
                border-top: 1px solid var(--border-color);
                padding-left: 0;
                margin-top: 1rem;
                padding-top: 1rem;
            }
            
            .referral-link-container {
                flex-direction: column;
            }
            
            .process-step::after {
                display: none;
            }
        }
    </style>
</body>
</html>