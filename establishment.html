<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title id="page-title">Заведение — Витрина — Витрина</title>
  <link rel="stylesheet" href="/css/style.css">
</head>
<body>
  <!-- SVG фон -->
  <svg class="svg-bg" viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
    <path d="M40,-40C55,-30,70,-15,72,0C74,15,63,30,50,40C37,50,20,55,5,52C-10,49,-25,43,-35,30C-45,17,-50,0,-45,-15C-40,-30,-25,-40,-10,-45C5,-50,20,-50,35,-45C50,-40,65,-30,55,-20C45,-10,30,-5,15,-5C0,-5,-15,-10,-25,-20C-35,-30,-40,-35,-30,-45C-20,-55,-10,-60,5,-60C20,-60,35,-55,40,-45Z" transform="translate(100,100)"/>
  </svg>

  <!-- Off-canvas elements -->
  <div class="overlay" id="overlay"></div>
  <div class="offcanvas-menu" id="offcanvasMenu">
    <button class="close-menu" id="closeMenu">×</button>
    <nav class="offcanvas-nav">
      <ul>
        <li><a href="/">Главная</a></li>
        <li><a href="/catalog/">Каталог товаров</a></li>
        <li><a href="/food-delivery/">Еда и доставка</a></li>
        <li><a href="/about.html">О нас</a></li>
        <li><a href="/business.html">Для бизнеса</a></li>
        <li><a href="/buyers.html">Для покупателей</a></li>
        <li><a href="/partners.html">Для партнёров</a></li>
        <li><a href="/contacts.html">Контакты</a></li>
      </ul>
    </nav>
    <div class="offcanvas-theme">
      <div class="theme-toggle" id="mobileThemeToggle">
        <div class="toggle-knob"></div>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header>
    <a href="/" class="logo"><span>Витрина</span></a>
    <nav class="desktop-nav">
      <ul>
        <li><a href="/">Главная</a></li>
        <li><a href="/catalog/">Каталог товаров</a></li>
        <li><a href="/food-delivery/">Еда и доставка</a></li>
        <li><a href="/about.html">О нас</a></li>
        <li><a href="/business.html">Для бизнеса</a></li>
        <li><a href="/buyers.html">Для покупателей</a></li>
        <li><a href="/partners.html">Для партнёров</a></li>
        <li><a href="/contacts.html">Контакты</a></li>
      </ul>
    </nav>
    <div class="theme-toggle" id="themeToggle">
      <div class="toggle-knob"></div>
    </div>
  </header>

  <!-- FAB Menu Button -->
  <button class="menu-fab" id="menuFab">≡</button>

  <main class="container">
    <div class="product-page">
      <div class="card" style="padding: 2rem; margin: 2rem 0;">
        <div style="display: flex; flex-wrap: wrap; gap: 2rem;">
          <div style="flex: 1; min-width: 300px;">
            <img id="establishment-image" src="https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80" alt="Название заведения" style="width: 100%; border-radius: 8px;">
          </div>
          
          <div style="flex: 1; min-width: 300px;">
            <h1 id="establishment-name">Название заведения</h1>
            <p id="establishment-type" style="color: var(--text-secondary); margin: 0.5rem 0 1rem;">Тип: Ресторан</p>
            
            <div id="establishment-rating" style="font-size: 1.2rem; margin: 1rem 0;">
              <span style="color: var(--accent);">★</span> Рейтинг: <span id="rating-value">0.0</span> (<span id="review-count">0</span> отзывов)
            </div>
            
            <div id="establishment-info" style="margin: 1.5rem 0; line-height: 1.6;">
              <p id="establishment-description">Описание заведения будет отображаться здесь. Это может быть подробное описание концепции, особенностей, истории и других важных деталей.</p>
              
              <div style="margin-top: 1rem;">
                <h3>Контактная информация</h3>
                <p id="establishment-address">Адрес: не указан</p>
                <p id="establishment-phone">Телефон: не указан</p>
                <p id="establishment-email">Email: не указан</p>
              </div>
              
              <div style="margin-top: 1rem;">
                <h3>Время работы</h3>
                <p id="establishment-hours">Время работы: не указано</p>
              </div>
              
              <div style="margin-top: 1rem;">
                <h3>Доставка</h3>
                <p id="establishment-delivery">Доставка: <span id="delivery-status">не указана</span></p>
                <p id="delivery-area">Зона доставки: не указана</p>
                <p id="delivery-time">Время доставки: не указано</p>
                <p id="delivery-cost">Стоимость доставки: не указана</p>
              </div>
            </div>
            
            <div style="display: flex; gap: 1rem; margin-top: 2rem;">
              <button id="add-to-favorites" class="cta-button" style="background: #6c757d; flex: 1;">В избранное</button>
              <button id="visit-website" class="cta-button" style="background: #28a745; flex: 1;">Перейти на сайт</button>
            </div>
          </div>
        </div>
      </div>
      
      <div class="card" style="padding: 2rem; margin: 2rem 0;">
        <h2 style="margin-bottom: 1.5rem;">Меню заведения</h2>
        <div class="filters">
          <select id="menu-category">
            <option value="">Все категории</option>
            <option value="appetizers">Закуски</option>
            <option value="mains">Основные блюда</option>
            <option value="desserts">Десерты</option>
            <option value="drinks">Напитки</option>
            <option value="delivery">Только с доставкой</option>
          </select>
          <button id="apply-menu-filters" class="cta-button">Фильтровать</button>
        </div>
        
        <div id="menu-grid" class="catalog-grid" style="margin-top: 1.5rem;">
          <!-- Сюда будут загружаться позиции меню -->
        </div>
      </div>
    </div>
  </main>

  <footer>
    <div class="footer-content">
      <a href="/" class="logo"><span>Витрина</span></a>
      <div class="footer-links desktop-links">
        <a href="/buyers.html">Для покупателей</a>
        <a href="/partners.html">Для партнёров</a>
        <a href="/business.html">Для бизнеса</a>
        <a href="/contacts.html">Контакты</a>
        <a href="/terms.html">Условия</a>
        <a href="/privacy.html">Конфиденциальность</a>
        <a href="/help.html">Помощь</a>
      </div>
      <div class="footer-mobile-menu">
        <details class="mobile-dropdown">
          <summary>Разделы</summary>
          <div class="mobile-links">
            <a href="/buyers.html">Для покупателей</a>
            <a href="/partners.html">Для партнёров</a>
            <a href="/business.html">Для бизнеса</a>
            <a href="/contacts.html">Контакты</a>
            <a href="/terms.html">Условия</a>
            <a href="/privacy.html">Конфиденциальность</a>
            <a href="/help.html">Помощь</a>
          </div>
        </details>
      </div>
    </div>
  </footer>

  <script src="/js/main.js"></script>
  
  <script>
    // Данные заведений (демонстрационные)
    const demoEstablishments = [
      { 
        id: 1, 
        name: "Ресторан 'Берлога'", 
        city: "msk", 
        type: "restaurant", 
        delivery: true, 
        img: "https://images.unsplash.com/photo-1552566626-52f8b828add9?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", 
        description: "Традиционная русская кухня с современными акцентами. Используем только свежие и натуральные продукты местных поставщиков.",
        rating: 4.7,
        reviews: 124,
        address: "г. Москва, ул. Тверская, д. 15",
        phone: "+7 (495) 123-45-67",
        email: "info@berloga.ru",
        hours: "Ежедневно с 10:00 до 23:00",
        deliveryArea: "Центральный район Москвы",
        deliveryTime: "30-45 минут",
        deliveryCost: "Бесплатно при заказе от 1000 руб."
      },
      { 
        id: 2, 
        name: "Кафе 'Уголок'", 
        city: "spb", 
        type: "cafe", 
        delivery: true, 
        img: "https://images.unsplash.com/photo-1517248135467-4c7edcad34c4?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80", 
        description: "Уютное место для кофе и десертов. Домашняя атмосфера и свежая выпечка каждый день.",
        rating: 4.5,
        reviews: 89,
        address: "г. Санкт-Петербург, Невский проспект, д. 28",
        phone: "+7 (812) 234-56-78",
        email: "cafe-ugolok@spb.ru",
        hours: "Пн-Пт: 8:00-21:00, Сб-Вс: 9:00-22:00",
        deliveryArea: "Адмиралтейский район",
        deliveryTime: "20-35 минут",
        deliveryCost: "От 150 руб."
      }
    ];
    
    // Демонстрационное меню для заведений
    const demoMenu = [
      {
        id: 1,
        establishmentId: 1,
        name: "Борщ по-домашнему",
        category: "mains",
        price: 350,
        description: "Традиционный украинский борщ с говядиной и свежими овощами",
        availableForDelivery: true,
        img: "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
      },
      {
        id: 2,
        establishmentId: 1,
        name: "Оладьи с творогом",
        category: "desserts",
        price: 220,
        description: "Воздушные оладьи с домашним творогом и ягодным соусом",
        availableForDelivery: true,
        img: "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
      },
      {
        id: 3,
        establishmentId: 1,
        name: "Салат 'Цезарь'",
        category: "appetizers",
        price: 280,
        description: "Свежий салат с курицей, пармезаном и хрустящими гренками",
        availableForDelivery: false,
        img: "https://images.unsplash.com/photo-1563245372-f21724e3856d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
      },
      {
        id: 4,
        establishmentId: 2,
        name: "Капучино",
        category: "drinks",
        price: 180,
        description: "Классический капучино с молочной пенкой",
        availableForDelivery: true,
        img: "https://images.unsplash.com/photo-1495474472287-4d71bcdd2085?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
      },
      {
        id: 5,
        establishmentId: 2,
        name: "Чизкейк 'Нью-Йорк'",
        category: "desserts",
        price: 250,
        description: "Классический чизкейк с ванильной подливкой",
        availableForDelivery: true,
        img: "https://images.unsplash.com/photo-1578926375602-e5f1b0b1c3d3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=600&q=80"
      }
    ];
    
    // Получение ID заведения из URL параметра
    const urlParams = new URLSearchParams(window.location.search);
    const establishmentId = parseInt(urlParams.get('id'));
    
    // Функция для отображения информации о заведении
    function displayEstablishmentInfo() {
      if (!establishmentId) {
        document.getElementById('establishment-name').textContent = 'Заведение не найдено';
        return;
      }
      
      const establishment = demoEstablishments.find(est => est.id === establishmentId);
      if (!establishment) {
        document.getElementById('establishment-name').textContent = 'Заведение не найдено';
        return;
      }
      
      // Обновляем информацию о заведении
      document.getElementById('establishment-name').textContent = establishment.name;
      document.getElementById('establishment-type').textContent = `Тип: ${getEstablishmentTypeName(establishment.type)}`;
      document.getElementById('rating-value').textContent = establishment.rating;
      document.getElementById('review-count').textContent = establishment.reviews;
      document.getElementById('establishment-description').textContent = establishment.description;
      document.getElementById('establishment-address').textContent = `Адрес: ${establishment.address}`;
      document.getElementById('establishment-phone').textContent = `Телефон: ${establishment.phone}`;
      document.getElementById('establishment-email').textContent = `Email: ${establishment.email}`;
      document.getElementById('establishment-hours').textContent = `Время работы: ${establishment.hours}`;
      document.getElementById('delivery-status').textContent = establishment.delivery ? 'Доступна' : 'Не доступна';
      document.getElementById('delivery-area').textContent = `Зона доставки: ${establishment.deliveryArea}`;
      document.getElementById('delivery-time').textContent = `Время доставки: ${establishment.deliveryTime}`;
      document.getElementById('delivery-cost').textContent = `Стоимость доставки: ${establishment.deliveryCost}`;
      document.getElementById('establishment-image').src = establishment.img;
      document.getElementById('page-title').textContent = `${establishment.name} — Витрина`;
      
      // Загружаем меню заведения
      loadEstablishmentMenu(establishmentId);
    }
    
    // Функция для отображения меню заведения
    function loadEstablishmentMenu(estId) {
      const menuItems = demoMenu.filter(item => item.establishmentId === estId);
      renderMenu(menuItems);
    }
    
    // Функция для отображения меню
    function renderMenu(menuItems) {
      const menuGrid = document.getElementById('menu-grid');
      menuGrid.innerHTML = menuItems.map(item => `
        <div class="product-card" style="cursor: pointer;" onclick="showMenuItemDetails(${item.id})">
          <img src="${item.img}" alt="${item.name}">
          <h3>${item.name}</h3>
          <p class="vendor">${item.description}</p>
          <div class="price">${item.price} ₽</div>
          <div style="padding: 0 1rem 1rem; font-size: 0.8rem; color: ${item.availableForDelivery ? 'var(--accent)' : 'var(--text-secondary)'};">
            ${item.availableForDelivery ? 'Доставка доступна' : 'Доставка не доступна'}
          </div>
        </div>
      `).join('');
    }
    
    // Функция для получения типа заведения
    function getEstablishmentTypeName(type) {
      const names = {
        'restaurant': 'Ресторан',
        'cafe': 'Кафе',
        'canteen': 'Столовая',
        'streetfood': 'Стритфуд',
        'foodcourt': 'Фудкорт',
        'homekitchen': 'Домашняя кухня',
        'fastfood': 'Фастфуд',
        'delivery': 'Доставка'
      };
      return names[type] || type;
    }
    
    // Функция для показа деталей блюда (заглушка)
    function showMenuItemDetails(menuId) {
      alert(`Детали блюда с ID: ${menuId}`);
    }
    
    // Инициализация при загрузке
    document.addEventListener('DOMContentLoaded', function() {
      displayEstablishmentInfo();
      
      // Добавляем обработчик для фильтрации меню
      document.getElementById('apply-menu-filters').addEventListener('click', function() {
        const category = document.getElementById('menu-category').value;
        const establishment = demoEstablishments.find(est => est.id === establishmentId);
        if (establishment) {
          let filteredMenu = demoMenu.filter(item => item.establishmentId === establishmentId);
          
          if (category) {
            if (category === 'delivery') {
              filteredMenu = filteredMenu.filter(item => item.availableForDelivery);
            } else {
              filteredMenu = filteredMenu.filter(item => item.category === category);
            }
          }
          
          renderMenu(filteredMenu);
        }
      });
      
      // Обработчик кнопки "В избранное"
      document.getElementById('add-to-favorites').addEventListener('click', function() {
        alert('Заведение добавлено в избранное!');
      });
      
      // Обработчик кнопки "Перейти на сайт"
      document.getElementById('visit-website').addEventListener('click', function() {
        alert('Переход на сайт заведения');
      });
    });
  </script>
</body>
</html>